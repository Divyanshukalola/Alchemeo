{% extends 'layouts/base.html' %}
{% load humanize %}

{% block title %} Dashboard {% endblock title %}

<!-- Specific CSS goes HERE -->
{% block stylesheets %}


{% endblock stylesheets %}

{% block content %}



    <main class="main-content mt-1 border-radius-lg">
      <!-- Navbar -->
        <!-- Navbar -->
        <nav class="navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl" id="navbarBlur" navbar-scroll="true">
          <div class="container-fluid py-1 px-3">
            <nav aria-label="breadcrumb">
              
              <h6 class="font-weight-bolder mb-0">Dashboard</h6>
            </nav>
            <div class="collapse navbar-collapse mt-sm-0 mt-2 me-md-0 me-sm-4" id="navbar">
              <div class="ms-md-auto pe-md-3 d-flex align-items-center">
                
              </div>
              <!-- <ul class="navbar-nav  justify-content-end">
                <li class="nav-item d-flex align-items-center mr-5">
                  
                    <i class="fa fa-user me-sm-1"></i>
                    <span class="d-sm-inline d-none mr-5">{{ request.user.username }}</span>
                  
                </li>
                <li class="nav-item d-xl-none ps-3 d-flex align-items-center">
                  <a href="javascript:;" class="nav-link text-body p-0" id="iconNavbarSidenav">
                    <div class="sidenav-toggler-inner">
                      <i class="sidenav-toggler-line"></i>
                      <i class="sidenav-toggler-line"></i>
                      <i class="sidenav-toggler-line"></i>
                    </div>
                  </a>
                </li>
                <br>

                <li class="nav-item dropdown pe-2 d-flex align-items-center">
                  <a href="javascript:;" class="nav-link text-body p-0" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="fa fa-bell cursor-pointer"></i>
                  </a>
                  <ul class="dropdown-menu  dropdown-menu-end  px-2 py-3 me-sm-n4" aria-labelledby="dropdownMenuButton">
                    <li class="mb-2">
                      <a class="dropdown-item border-radius-md" href="javascript:;">
                        <div class="d-flex py-1">
                          <div class="my-auto">
                            <img src="../assets/img/team-2.jpg" class="avatar avatar-sm  me-3 ">
                          </div>
                          <div class="d-flex flex-column justify-content-center">
                            <h6 class="text-sm font-weight-normal mb-1">
                              <span class="font-weight-bold">New message</span> from Laur
                            </h6>
                            <p class="text-xs text-secondary mb-0">
                              <i class="fa fa-clock me-1"></i>
                              13 minutes ago
                            </p>
                          </div>
                        </div>
                      </a>
                    </li>
                    <li class="mb-2">
                      <a class="dropdown-item border-radius-md" href="javascript:;">
                        <div class="d-flex py-1">
                          <div class="my-auto">
                            <img src="../assets/img/small-logos/logo-spotify.svg" class="avatar avatar-sm bg-gradient-dark  me-3 ">
                          </div>
                          <div class="d-flex flex-column justify-content-center">
                            <h6 class="text-sm font-weight-normal mb-1">
                              <span class="font-weight-bold">New album</span> by Travis Scott
                            </h6>
                            <p class="text-xs text-secondary mb-0">
                              <i class="fa fa-clock me-1"></i>
                              1 day
                            </p>
                          </div>
                        </div>
                      </a>
                    </li>
                    <li>
                      <a class="dropdown-item border-radius-md" href="javascript:;">
                        <div class="d-flex py-1">
                          <div class="avatar avatar-sm bg-gradient-secondary  me-3  my-auto">
                            <svg width="12px" height="12px" viewBox="0 0 43 36" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                              <title>credit-card</title>
                              <g id="Basic-Elements" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                <g id="Rounded-Icons" transform="translate(-2169.000000, -745.000000)" fill="#FFFFFF" fill-rule="nonzero">
                                  <g id="Icons-with-opacity" transform="translate(1716.000000, 291.000000)">
                                    <g id="credit-card" transform="translate(453.000000, 454.000000)">
                                      <path class="color-background" d="M43,10.7482083 L43,3.58333333 C43,1.60354167 41.3964583,0 39.4166667,0 L3.58333333,0 C1.60354167,0 0,1.60354167 0,3.58333333 L0,10.7482083 L43,10.7482083 Z" id="Path" opacity="0.593633743"></path>
                                      <path class="color-background" d="M0,16.125 L0,32.25 C0,34.2297917 1.60354167,35.8333333 3.58333333,35.8333333 L39.4166667,35.8333333 C41.3964583,35.8333333 43,34.2297917 43,32.25 L43,16.125 L0,16.125 Z M19.7083333,26.875 L7.16666667,26.875 L7.16666667,23.2916667 L19.7083333,23.2916667 L19.7083333,26.875 Z M35.8333333,26.875 L28.6666667,26.875 L28.6666667,23.2916667 L35.8333333,23.2916667 L35.8333333,26.875 Z" id="Shape"></path>
                                    </g>
                                  </g>
                                </g>
                              </g>
                            </svg>
                          </div>
                          <div class="d-flex flex-column justify-content-center">
                            <h6 class="text-sm font-weight-normal mb-1">
                              Payment successfully completed
                            </h6>
                            <p class="text-xs text-secondary mb-0">
                              <i class="fa fa-clock me-1"></i>
                              2 days
                            </p>
                          </div>
                        </div>
                      </a>
                    </li>
                  </ul>
                </li>
               
               
              </ul> -->

              <ul class="navbar-nav  justify-content-end">
            <li class="nav-item d-flex align-items-center">
              <a href="/Profile/" class="nav-link text-body font-weight-bold px-0">
                <i class="fa fa-user me-sm-1"></i>
                <span class="d-sm-inline d-none">{{request.user.username}}</span>
              </a>
            </li>
            <li class="nav-item d-xl-none ps-3 d-flex align-items-center">
              <a href="javascript:;" class="nav-link text-body p-0" id="iconNavbarSidenav">
                <div class="sidenav-toggler-inner">
                  <i class="sidenav-toggler-line"></i>
                  <i class="sidenav-toggler-line"></i>
                  <i class="sidenav-toggler-line"></i>
                </div>
              </a>
            </li>
            <li class="nav-item px-3 d-flex align-items-center">
              <!-- <a href="javascript:;" class="nav-link text-body p-0">
                <i class="fa fa-cog fixed-plugin-button-nav cursor-pointer"></i>
              </a> -->
            </li>
            <li class="nav-item dropdown pe-2 d-flex align-items-center">
              <a href="javascript:;" class="nav-link text-body p-0" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="fa fa-bell cursor-pointer"></i>
                <span class="badge badge-md badge-circle badge-floating badge-danger border-white mx-0 px-0" style="color: rgb(116, 116, 116);">{{request.user.inventory.accessrequest_set.all.count}}</span>
              </a>
              <ul class="dropdown-menu  dropdown-menu-end  px-2 py-3 me-sm-n4" aria-labelledby="dropdownMenuButton">
                {% if request.user.inventory.accessrequest_set.all%}
                {% for r in request.user.inventory.accessrequest_set.all%}
                <li class="mb-2">
                  <a class="dropdown-item border-radius-md" >
                    <div class="d-flex py-1" data-bs-toggle="modal" data-bs-target="#v{{r.Request_ID}}">
                     
                      <div class="d-flex flex-column justify-content-center">
                        <h6 class="text-sm font-weight-normal mb-1">
                          <span class="font-weight-bold">Request</span> from {{r.Request_from}}
                        </h6>
                        <p class="text-xs text-secondary mb-0">
                          <i class="fa fa-clock me-1"></i>
                          {{r.Request_date}}
                        </p>
                      </div>
                    </div>
                  </a>
                </li>



             
                {% endfor %}
                {% else %}
                <li class="mb-2">
                  <a class="dropdown-item border-radius-md">
                    No Requests Pending ...
                  </a>
                </li>
                {% endif %}
               
              </ul>
            </li>
              </ul>
            </div>
          </div>
        </nav>


        {% for r in request.user.inventory.accessrequest_set.all%}
         <!-- Modal -->
         <div class="modal fade" id="v{{r.Request_ID}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Inventory Access Request</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="d-flex flex-column justify-content-center">
                  <h6 class="text-sm font-weight-normal mb-1">
                    <span class="font-weight-bold">Request</span> from {{r.Request_from}}
                  </h6>
                  <p class="text-xs text-secondary mb-0">
                    <i class="fa fa-clock me-1"></i>
                    {{r.Request_date}}
                  </p>
                </div>
              </div>
              <div class="modal-footer">
                
                <form action="/AccessRequest1/" method="post">
                  {% csrf_token %}
                  <input type="text" name="actionid" id="actionid" value="{{r.Request_ID}}" hidden>
                  <input type="text" name="action" id="action" value="accept" hidden>
                  <input type="text" name="page" value="homdashboarde" hidden>
                <button type="submit" class="btn bg-gradient-success">Accept Request</button>
                </form>

              <form action="/AccessRequest1/" method="post">
                {% csrf_token %}
                <input type="text" name="actionid" id="actionid" value="{{r.Request_ID}}" hidden>
                <input type="text" name="action" id="action" value="delete" hidden>
                <input type="text" name="page" value="homdashboarde" hidden>
              <button type="submit" class="btn bg-gradient-danger" >Delete</button>
              </form>

              <button type="button" class="btn bg-gradient-secondary" data-bs-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>

        {% endfor %}
        
      <!-- End Navbar -->
      <div class="container-fluid py-4">
        <div class="row">
          <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
            <div class="card">
              <div class="card-body p-3">
                <div class="row">
                  <div class="col-8">
                    <div class="numbers">
                      <p class="text-sm mb-0 text-capitalize font-weight-bold">No. Items Listed</p>
                      <h5 class="font-weight-bolder mb-0">
                        {{Inventory_items}}
                      </h5>
                    </div>
                  </div>
                  <div class="col-4 text-end">
                    <div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md">
                      <i class="ni ni-money-coins text-lg opacity-10" aria-hidden="true"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
            <div class="card">
              <div class="card-body p-3">
                <div class="row">
                  <div class="col-8">
                    <div class="numbers">
                      <p class="text-sm mb-0 text-capitalize font-weight-bold">Inventory Users</p>
                      <h5 class="font-weight-bolder mb-0">
                       {{followers}}
                      </h5>
                    </div>
                  </div>
                  <div class="col-4 text-end">
                    <div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md">
                      <i class="ni ni-world text-lg opacity-10" aria-hidden="true"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
            <div class="card">
              <div class="card-body p-3">
                <div class="row">
                  <div class="col-8">
                    <div class="numbers">
                      <p class="text-sm mb-0 text-capitalize font-weight-bold">Total No. Invoices</p>
                      <h5 class="font-weight-bolder mb-0">
                        {{Invoices_c}}
                      </h5>
                    </div>
                  </div>
                  <div class="col-4 text-end">
                    <div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md">
                      <i class="ni ni-paper-diploma text-lg opacity-10" aria-hidden="true"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-xl-3 col-sm-6">
            <div class="card">
              <div class="card-body p-3">
                <div class="row">
                  <div class="col-8">
                    <div class="numbers">
                      <p class="text-sm mb-0 text-capitalize font-weight-bold">Sales</p>
                      <h5 class="font-weight-bolder mb-0">
                        {{Invoice_total}}
                      </h5>
                    </div>
                  </div>
                  <div class="col-4 text-end">
                    <div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md">
                      <i class="ni ni-cart text-lg opacity-10" aria-hidden="true"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row mt-4">
          <div class="col-lg-7 mb-lg-0 mb-4">
            <div class="card">
              <div class="card-body p-3">
                <div class="row">
                  <div class="col-lg-6">
                    <div class="d-flex flex-column h-100">
                      <p class="mb-1 pt-2 text-bold">Boost your business</p>
                      <h5 class="font-weight-bolder">Make, Store and Manage Invoices</h5>
                      <p class="mb-5">Create your inventory, add stocks then start making invoices.</p>
                      <!-- <a class="text-body text-sm font-weight-bold mb-0 icon-move-right mt-auto" href="javascript:;">
                        Read More
                        <i class="fas fa-arrow-right text-sm ms-1" aria-hidden="true"></i>
                      </a> -->
                    </div>
                  </div>
                  <div class="col-lg-5 ms-auto text-center mt-5 mt-lg-0">
                    <div class="bg-gradient-primary border-radius-lg h-100">
                      <img src="/static/assets/img/shapes/waves-white.svg" class="position-absolute h-100 w-50 top-0 d-lg-block d-none" alt="waves">
                      <div class="position-relative d-flex align-items-center justify-content-center h-100 ">
                        <img class="position-relative z-index-2 pt-4 w-100" src="/static/assets/img/illustrations/rocket-white.png" >
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-5">
            <div class="card h-100 p-3">
              <div class="overflow-hidden position-relative border-radius-lg bg-cover h-100" style="background-image: url('/static/assets/img/ivancik.jpg');">
                <span class="mask bg-gradient-dark"></span>
                <div class="card-body position-relative z-index-1 d-flex flex-column h-100 p-3">
                  <h5 class="text-white font-weight-bolder mb-4 pt-2">Work with the Alchemeo</h5>
                  <p class="text-white">Wealth creation is an evolutionarily recent positive-sum game. It is all about who take the opportunity first.</p>
                  <!-- <a class="text-white text-sm font-weight-bold mb-0 icon-move-right mt-auto" href="javascript:;">
                    Read More
                    <i class="fas fa-arrow-right text-sm ms-1" aria-hidden="true"></i>
                  </a> -->
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row mt-4">
          <div class="col-lg-5 mb-lg-0 mb-4">
            <div class="card">
              <div class="card-header pb-0">
                <h6>Invoices overview</h6>
              </div>
              <div class="card-body p-3">
                <div class="bg-gradient-dark border-radius-lg py-3 pe-1 mb-3">
                  <div class="chart">
                    <canvas id="chart-bars" class="chart-canvas" height="200"></canvas>
                  </div>
                </div>
               
                <div class="container border-radius-lg">
                  <div class="row">
                    
                    <div class="col-6 py-3 ps-0">
                      <div class="d-flex mb-2">
                        <div class="icon icon-shape icon-xxs shadow border-radius-sm bg-gradient-info text-center me-2 d-flex align-items-center justify-content-center">
                          <!-- <svg width="10px" height="10px" viewBox="0 0 43 36" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <title>Pending</title>
                            <g id="Basic-Elements" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                              <g id="Rounded-Icons" transform="translate(-2169.000000, -745.000000)" fill="#FFFFFF" fill-rule="nonzero">
                                <g id="Icons-with-opacity" transform="translate(1716.000000, 291.000000)">
                                  <g id="credit-card" transform="translate(453.000000, 454.000000)">
                                    <path class="color-background" d="M43,10.7482083 L43,3.58333333 C43,1.60354167 41.3964583,0 39.4166667,0 L3.58333333,0 C1.60354167,0 0,1.60354167 0,3.58333333 L0,10.7482083 L43,10.7482083 Z" id="Path" opacity="0.593633743"></path>
                                    <path class="color-background" d="M0,16.125 L0,32.25 C0,34.2297917 1.60354167,35.8333333 3.58333333,35.8333333 L39.4166667,35.8333333 C41.3964583,35.8333333 43,34.2297917 43,32.25 L43,16.125 L0,16.125 Z M19.7083333,26.875 L7.16666667,26.875 L7.16666667,23.2916667 L19.7083333,23.2916667 L19.7083333,26.875 Z M35.8333333,26.875 L28.6666667,26.875 L28.6666667,23.2916667 L35.8333333,23.2916667 L35.8333333,26.875 Z" id="Shape"></path>
                                  </g>
                                </g>
                              </g>
                            </g>
                          </svg> -->
                          <svg width="10px" height="10px" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clock" class="svg-inline--fa fa-clock fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="white" d="M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"></path></svg>
                        </div>
                        <p class="text-xs mt-1 mb-0 font-weight-bold">Pending</p>
                      </div>
                      <h4 class="font-weight-bolder">{{pending}}</h4>
                     
                    </div>
                    <div class="col-6 py-3 ps-0">
                      <div class="d-flex mb-2">
                        <div class="icon icon-shape icon-xxs shadow border-radius-sm bg-gradient-success text-center me-2 d-flex align-items-center justify-content-center">
                          <!-- <svg width="10px" height="10px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <title>Confirmed</title>
                            <g id="Basic-Elements" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                              <g id="Rounded-Icons" transform="translate(-2020.000000, -442.000000)" fill="#FFFFFF" fill-rule="nonzero">
                                <g id="Icons-with-opacity" transform="translate(1716.000000, 291.000000)">
                                  <g id="settings" transform="translate(304.000000, 151.000000)">
                                    <polygon class="color-background" id="Path" opacity="0.596981957" points="18.0883333 15.7316667 11.1783333 8.82166667 13.3333333 6.66666667 6.66666667 0 0 6.66666667 6.66666667 13.3333333 8.82166667 11.1783333 15.315 17.6716667"></polygon>
                                    <path class="color-background" d="M31.5666667,23.2333333 C31.0516667,23.2933333 30.53,23.3333333 30,23.3333333 C29.4916667,23.3333333 28.9866667,23.3033333 28.48,23.245 L22.4116667,30.7433333 L29.9416667,38.2733333 C32.2433333,40.575 35.9733333,40.575 38.275,38.2733333 L38.275,38.2733333 C40.5766667,35.9716667 40.5766667,32.2416667 38.275,29.94 L31.5666667,23.2333333 Z" id="Path" opacity="0.596981957"></path>
                                    <path class="color-background" d="M33.785,11.285 L28.715,6.215 L34.0616667,0.868333333 C32.82,0.315 31.4483333,0 30,0 C24.4766667,0 20,4.47666667 20,10 C20,10.99 20.1483333,11.9433333 20.4166667,12.8466667 L2.435,27.3966667 C0.95,28.7083333 0.0633333333,30.595 0.00333333333,32.5733333 C-0.0583333333,34.5533333 0.71,36.4916667 2.11,37.89 C3.47,39.2516667 5.27833333,40 7.20166667,40 C9.26666667,40 11.2366667,39.1133333 12.6033333,37.565 L27.1533333,19.5833333 C28.0566667,19.8516667 29.01,20 30,20 C35.5233333,20 40,15.5233333 40,10 C40,8.55166667 39.685,7.18 39.1316667,5.93666667 L33.785,11.285 Z" id="Path"></path>
                                  </g>
                                </g>
                              </g>
                            </g>
                          </svg> -->

                          <svg width="12px" height="12px" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="vote-yea" class="svg-inline--fa fa-vote-yea fa-w-20" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="white" d="M608 320h-64v64h22.4c5.3 0 9.6 3.6 9.6 8v16c0 4.4-4.3 8-9.6 8H73.6c-5.3 0-9.6-3.6-9.6-8v-16c0-4.4 4.3-8 9.6-8H96v-64H32c-17.7 0-32 14.3-32 32v96c0 17.7 14.3 32 32 32h576c17.7 0 32-14.3 32-32v-96c0-17.7-14.3-32-32-32zm-96 64V64.3c0-17.9-14.5-32.3-32.3-32.3H160.4C142.5 32 128 46.5 128 64.3V384h384zM211.2 202l25.5-25.3c4.2-4.2 11-4.2 15.2.1l41.3 41.6 95.2-94.4c4.2-4.2 11-4.2 15.2.1l25.3 25.5c4.2 4.2 4.2 11-.1 15.2L300.5 292c-4.2 4.2-11 4.2-15.2-.1l-74.1-74.7c-4.3-4.2-4.2-11 0-15.2z"></path></svg>
                        </div>
                        <p class="text-xs mt-1 mb-0 font-weight-bold">Confirmed Invoices</p>
                      </div>
                      <h4 class="font-weight-bolder">{{confirmed}}</h4>
                      
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-7">
            <div class="card">
              <div class="card-header pb-0">
                <h6>Sales overview</h6>
                <p class="text-sm">
                  <span class="font-weight-bold">Year</span> {{Invoice_year}}
                </p>
              </div>
              <div class="card-body p-3">
                <div class="chart">
                  <canvas id="chart-line" class="chart-canvas" height="315px"></canvas>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row my-4">
          <div class="col-lg-12">
            <div class="card">
              <div class="card-header pb-0">
                <h6>Product overview</h6>
              </div>
              <div class="card-body p-3">
                <div class="bg-gradient-white border-radius-lg py-3 pe-1 mb-3">
                  <div class="chart">
                    <canvas id="chart-bars2" class="chart-canvas" height="400"></canvas>
                  </div>
                </div>
               
                
              </div>
            </div>
          </div>
        </div>

        {% if TagsTot.items %}
        <div class="row">
          {% for a,b in TagsTot.items %}
          <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
            <div class="card">
              <div class="card-body p-3">
                <div class="row">
                  <div class="col-8">
                    <div class="numbers">
                      <p class="text-sm mb-0 text-capitalize font-weight-bold">{{a}} Total</p>
                      <h5 class="font-weight-bolder mb-0">
                        {{b}}
                      </h5>
                    </div>
                  </div>
                  <div class="col-4 text-end">
                    <div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md">
                      <i class="ni ni-tag text-lg opacity-10" aria-hidden="true"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          {% endfor %}
          
        </div>

        {% else %}
        {% endif %}

        <div class="row my-4">
          <div class="col-lg-12 col-md-12 mb-md-0 mb-4">
            <div class="card h-100">
              <div class="card-header pb-0">
                <div class="row">
                  <div class="col-lg-6 col-7">
                    <h6>Invoices</h6>
                    <p class="text-sm mb-0">
                      <i class="ni ni-archive-2 text-info" aria-hidden="true"></i>
                      <span class="font-weight-bold ms-1">Total: </span> this month
                    </p>
                  </div>
                 
                </div>
              </div>
              <div class="card-body px-0 pb-2">
                <div class="table-responsive">
                  <table class="table align-items-center mb-0">
                    <thead>
                      <tr>
                        <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Date</th>
                        <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Name</th>
                        <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Invoice ID</th>
                        <th class="text-left text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Total</th>
                      </tr>
                    </thead>
                    <tbody>
                      {% if Invoices != 0%}
                {% for i in Invoices %}
                {% if i.Invoice_status%}
                      <tr>
                        <td>
                          <div class="align-middle text-left mx-3 text-sm">
                            {{i.Invoice_Date|naturalday}}
                          </div>
                        </td>
                        <td>
                          <div class="align-middle text-left text-sm">{{i.Invoice_Title}}</div>
                        </td>
                        <td class="align-middle text-center text-sm">
                          <div class="align-middle text-center mx-3 text-sm">{{i.Invoice_ID}}</div>
                        </td>
                        <td>
                          <div class="align-middle text-left mx-3 text-sm">Rs {{i.Invoice_Total_Amount}}</div>
                        </td>
                      </tr>

                      {% else %}
                      

                      {% endif %}
                  
                {% endfor %}
                {% else %}
                {% endif %}
                    
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
          
        </div>
       
        {% include "includes/footer.html" %}
      </div>

      </div>
      
    </main>
   

{% endblock content %}


{% block javascripts %}
<script>
var Invoice_value = ("{{ Invoices_values }}".replace(/[\])}[{(]/g, '')).split(',');
var Invoices_Numbers = ("{{ Invoices_Number }}".replace(/[\])}[{(]/g, '')).split(',');
var ItemID = ("{{ItemsIDs}}".replaceAll("&#39;", "").replace(/[\])}[{(]/g, '')).split(',');
var ItemValue = ("{{ItemSales}}".replace(/[\])}[{(]/g, '')).split(',');
var ItemValues = [];
var ItemIDS = [];

for(i=0;i<ItemValue.length;i++){
  if (i <= 20){
    ItemValues.push(parseInt(ItemValue[i]));
    ItemIDS.push(String(ItemID[i]))
  }
  
}
// Charts=function(){var e,a=$('[data-toggle="chart"]'),t="light",o={base:"Open Sans"},n={gray:{100:"#f6f9fc",200:"#e9ecef",300:"#dee2e6",400:"#ced4da",500:"#adb5bd",600:"#8898aa",700:"#525f7f",800:"#32325d",900:"#212529"},theme:{default:"#172b4d",primary:"#5e72e4",secondary:"#f4f5f7",info:"#11cdef",success:"#2dce89",danger:"#f5365c",warning:"#fb6340"},black:"#12263F",white:"#FFFFFF",transparent:"transparent"};function r(e,a){for(var t in a)"object"!=typeof a[t]?e[t]=a[t]:r(e[t],a[t])}function l(e){var a=e.data("add"),t=$(e.data("target")).data("chart");e.is(":checked")?function e(a,t){for(var o in t)Array.isArray(t[o])?t[o].forEach(function(e){a[o].push(e)}):e(a[o],t[o])}(t,a):function e(a,t){for(var o in t)Array.isArray(t[o])?t[o].forEach(function(){a[o].pop()}):e(a[o],t[o])}(t,a),t.update()}function i(e){var a=e.data("update"),t=$(e.data("target")).data("chart");r(t,a),function(e,a){if(void 0!==e.data("prefix")||void 0!==e.data("prefix")){var r=e.data("prefix")?e.data("prefix"):"",l=e.data("suffix")?e.data("suffix"):"";a.options.scales.yAxes[0].ticks.callback=function(e){if(!(e%10))return r+e+l},a.options.tooltips.callbacks.label=function(e,a){var t=a.datasets[e.datasetIndex].label||"",o=e.yLabel,n="";return 1<a.datasets.length&&(n+='<span class="popover-body-label mr-auto">'+t+"</span>"),n+='<span class="popover-body-value">'+r+o+l+"</span>"}}}(e,t),t.update()}return window.Chart&&r(Chart,(e={defaults:{global:{responsive:!0,maintainAspectRatio:!1,defaultColor:n.gray[600],defaultFontColor:n.gray[600],defaultFontFamily:o.base,defaultFontSize:13,layout:{padding:0},legend:{display:!1,position:"bottom",labels:{usePointStyle:!0,padding:16}},elements:{point:{radius:0,backgroundColor:n.theme.primary},line:{tension:.4,borderWidth:4,borderColor:n.theme.primary,backgroundColor:n.transparent,borderCapStyle:"rounded"},rectangle:{backgroundColor:n.theme.warning},arc:{backgroundColor:n.theme.primary,borderColor:n.white,borderWidth:4}},tooltips:{enabled:!1,mode:"index",intersect:!1,custom:function(o){var e=$("#chart-tooltip");if(e.length||(e=$('<div id="chart-tooltip" class="popover bs-popover-top" role="tooltip"></div>'),$("body").append(e)),0!==o.opacity){if(o.body){var a=o.title||[],n=o.body.map(function(e){return e.lines}),r="";r+='<div class="arrow"></div>',a.forEach(function(e){r+='<h3 class="popover-header text-center">'+e+"</h3>"}),n.forEach(function(e,a){o.labelColors[a].backgroundColor;var t=1<n.length?"justify-content-left":"justify-content-center";r+='<div class="popover-body d-flex align-items-center '+t+'"><span class="badge badge-dot"><i class="bg-primary"></i></span>'+e+"</div>"}),e.html(r)}var t=$(this._chart.canvas),l=(t.outerWidth(),t.outerHeight(),t.offset().top),i=t.offset().left,s=e.outerWidth(),d=e.outerHeight(),c=l+o.caretY-d-16,p=i+o.caretX-s/2;e.css({top:c+"px",left:p+"px",display:"block","z-index":"100"})}else e.css("display","none")},callbacks:{label:function(e,a){var t=a.datasets[e.datasetIndex].label||"",o=e.yLabel,n="";return 1<a.datasets.length&&(n+='<span class="badge badge-primary mr-auto">'+t+"</span>"),n+='<span class="popover-body-value">'+o+"</span>"}}}},doughnut:{cutoutPercentage:83,tooltips:{callbacks:{title:function(e,a){return a.labels[e[0].index]},label:function(e,a){var t="";return t+='<span class="popover-body-value">'+a.datasets[0].data[e.index]+"</span>"}}},legendCallback:function(e){var o=e.data,n="";return o.labels.forEach(function(e,a){var t=o.datasets[0].backgroundColor[a];n+='<span class="chart-legend-item">',n+='<i class="chart-legend-indicator" style="background-color: '+t+'"></i>',n+=e,n+="</span>"}),n}}}},Chart.scaleService.updateScaleDefaults("linear",{gridLines:{borderDash:[2],borderDashOffset:[2],color:n.gray[300],drawBorder:!1,drawTicks:!1,lineWidth:0,zeroLineWidth:0,zeroLineColor:n.gray[300],zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{beginAtZero:!0,padding:10,callback:function(e){if(!(e%10))return e}}}),Chart.scaleService.updateScaleDefaults("category",{gridLines:{drawBorder:!1,drawOnChartArea:!1,drawTicks:!1},ticks:{padding:20},maxBarThickness:10}),e)),a.on({change:function(){var e=$(this);e.is("[data-add]")&&l(e)},click:function(){var e=$(this);e.is("[data-update]")&&i(e)}}),{colors:n,fonts:o,mode:t}}(),
// OrdersChart=function(){var e,a,t=$("#chart-orders1");$('[name="ordersSelect"]');t.length&&(e=t,a=new Chart(e,{type:"bar",options:{scales:{yAxes:[{gridLines:{lineWidth:1,color:"#dfe2e6",zeroLineColor:"#dfe2e6"},ticks:{callback:function(e){if(!(e%1))return e}}}]},tooltips:{callbacks:{label:function(e,a){var t=a.datasets[e.datasetIndex].label||"",o=e.yLabel,n="";return 1<a.datasets.length&&(n+='<span class="popover-body-label mr-auto">'+t+"</span>"),n+='<span class="popover-body-value">'+o+"</span>"}}}},data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Spet","Oct","Nov","Dec"],datasets:[{label:"Sales",data:Invoices_Numbers}]}}),e.data("chart",a))}(),
// SalesChart=function(){var e,a,t=$("#chart-sales1");t.length&&(e=t,a=new Chart(e,{type:"bar",options:{scales:{yAxes:[{gridLines:{lineWidth:1,color:Charts.colors.gray[900],zeroLineColor:Charts.colors.gray[900]},ticks:{callback:function(e){if(!(e%10))return e}}}]},tooltips:{callbacks:{label:function(e,a){var t=a.datasets[e.datasetIndex].label||"",o=e.yLabel,n="";return 1<a.datasets.length&&(n+='<span class="popover-body-label mr-auto">'+t+"</span>"),n+='<span class="popover-body-value">INR '+o+"</span>"}}}},data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Spet","Oct","Nov","Dec"],datasets:[{label:"Performance",data:Invoice_value}]}}),e.data("chart",a))}(),
// ProductSalesChart=function(){var e,a,t=$("#chart-orders2");$('[name="ordersSelect"]');t.length&&(e=t,a=new Chart(e,{type:"bar",options:{scales:{yAxes:[{gridLines:{lineWidth:1,color:"#dfe2e6",zeroLineColor:"#dfe2e6"},ticks:{callback:function(e){if(!(e%1))return e}}}]},tooltips:{callbacks:{label:function(e,a){var t=a.datasets[e.datasetIndex].label||"",o=e.yLabel,n="";return 1<a.datasets.length&&(n+='<span class="popover-body-label mr-auto">'+t+"</span>"),n+='<span class="popover-body-value">'+o+"</span>"}}}},data:{labels:ItemID,datasets:[{label:"Product Sales",data:ItemValues}]}}),e.data("chart",a))}();
</script>

<script>
  var ctx = document.getElementById("chart-bars").getContext("2d");

  new Chart(ctx, {
    type: "bar",
    data: {
      labels: ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Spet","Oct","Nov","Dec"],
      datasets: [{
        label: "Sales",
        tension: 0.4,
        borderWidth: 0,
        pointRadius: 0,
        backgroundColor: "#fff",
        data: Invoices_Numbers,
        maxBarThickness: 6
      }, ],
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      legend: {
        display: false,
      },
      tooltips: {
        enabled: true,
        mode: "index",
        intersect: false,
      },
      scales: {
        yAxes: [{
          gridLines: {
            borderDash: [2],
            borderDashOffset: [2],
            color: '#606060',
            zeroLineColor: '#606060',
            zeroLineWidth: 1,
            zeroLineBorderDash: [2],
            drawBorder: false,
          },
          ticks: {
            suggestedMin: 0,
            suggestedMax: 5,
            beginAtZero: true,
            padding: 5,
            fontSize: 14,
            lineHeight: 2,
            fontColor: "#fff",
            fontStyle: 'normal',
            fontFamily: "Open Sans",
          },
        }, ],
        xAxes: [{
          gridLines: {
            display: false,
            
           
          },
          ticks: {
            padding: 10,
            fontSize: 11,
            fontColor: '#adb5bd',
            lineHeight: 1,
            fontStyle: 'normal',
            fontFamily: "Open Sans",
          },
        }, ],
      },
    },
  });



  var ctx = document.getElementById("chart-bars2").getContext("2d");

  new Chart(ctx, {
    type: "bar",
    data: {
      labels: ItemIDS,
      datasets: [{
        label: "Sales",
        tension: 0.4,
        borderWidth: 0,
        pointRadius: 0,
        backgroundColor: "#825ee4",
        data: ItemValues,
        maxBarThickness: 6
      }, ],
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      legend: {
        display: false,
      },
      tooltips: {
        enabled: true,
        mode: "index",
        intersect: false,
      },
      scales: {
        yAxes: [{
          gridLines: {
            borderDash: [2],
            borderDashOffset: [2],
            color: '#dee2e6',
            zeroLineColor: '#dee2e6',
            zeroLineWidth: 1,
            zeroLineBorderDash: [2],
            drawBorder: false,
          },
          ticks: {
            suggestedMin: 0,
            suggestedMax: 5,
            beginAtZero: true,
            padding: 1,
            fontSize: 14,
            lineHeight: 3,
            fontColor: "#000",
            fontStyle: 'normal',
            fontFamily: "Open Sans",
          },
        }, ],
        xAxes: [{
          gridLines: {
            display: false,
          },
          ticks: {
            padding: 10,
            fontSize: 11,
            fontColor: '#000',
            lineHeight: 1,
            fontStyle: 'normal',
            fontFamily: "Open Sans",
          },
        }, ],
      },
    },
  });

  var ctx2 = document.getElementById("chart-line").getContext("2d");

  var gradientStroke1 = ctx2.createLinearGradient(0, 230, 0, 50);

  gradientStroke1.addColorStop(1, 'rgba(0,12,159,0.2)');
  gradientStroke1.addColorStop(0.2, 'rgba(72,72,176,0.0)');
  gradientStroke1.addColorStop(0, 'rgba(0,12,159,0)'); //purple colors

  // var gradientStroke2 = ctx2.createLinearGradient(0, 230, 0, 50);

  // gradientStroke2.addColorStop(1, 'rgba(20,23,39,0.2)');
  // gradientStroke2.addColorStop(0.2, 'rgba(72,72,176,0.0)');
  // gradientStroke2.addColorStop(0, 'rgba(20,23,39,0)'); //purple colors


  new Chart(ctx2, {
    type: "line",
    data: {
      labels: ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Spet","Oct","Nov","Dec"],
      datasets: [{
          label: "Mobile apps",
          tension: 0.4,
          borderWidth: 0,
          pointRadius: 0,
          borderColor: "#825ee4",
          borderWidth: 3,
          backgroundColor: gradientStroke1,
          data: Invoice_value,
          maxBarThickness: 6

        },
        // {
        //   label: "Websites",
        //   tension: 0.4,
        //   borderWidth: 0,
        //   pointRadius: 0,
        //   borderColor: "#3A416F",
        //   borderWidth: 3,
        //   backgroundColor: gradientStroke2,
        //   data: [30, 90, 40, 140, 290, 290, 340, 230, 400],
        //   maxBarThickness: 6

        // },
      ],
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      legend: {
        display: false,
      },
      tooltips: {
        enabled: true,
        mode: "index",
        intersect: false,
      },
      scales: {
        yAxes: [{
          gridLines: {
            borderDash: [2],
            borderDashOffset: [2],
            color: '#dee2e6',
            zeroLineColor: '#dee2e6',
            zeroLineWidth: 1,
            zeroLineBorderDash: [2],
            drawBorder: false,
          },
          ticks: {
            suggestedMin: 0,
            suggestedMax: 500,
            beginAtZero: true,
            padding: 10,
            fontSize: 11,
            fontColor: '#adb5bd',
            lineHeight: 3,
            fontStyle: 'normal',
            fontFamily: "Open Sans",
          },
        }, ],
        xAxes: [{
          gridLines: {
            zeroLineColor: 'rgba(0,0,0,0)',
            display: false,
          },
          ticks: {
            padding: 10,
            fontSize: 11,
            fontColor: '#adb5bd',
            lineHeight: 3,
            fontStyle: 'normal',
            fontFamily: "Open Sans",
          },
        }, ],
      },
    },
  });
</script>
{% endblock javascripts %}
